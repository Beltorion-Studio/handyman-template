---
import { Image } from 'astro:assets'
import type { ImageMetadata } from 'astro'
import Button from '@components/ui/Button.astro'
import Heading from '@components/ui/Heading.astro'
import TrustStats from '@components/TrustStats.astro'

export type Props = {
  sectionId: string
  heroImage: {
    src: ImageMetadata
    alt: string
  }
  title: string
  subheading?: string
  primaryButtonText?: string
  primaryButtonHref?: string
  secondaryButtonText?: string
  secondaryButtonHref?: string
  className?: string
}

const {
  sectionId = 'hero',
  heroImage,
  title,
  subheading,
  primaryButtonText,
  primaryButtonHref,
  secondaryButtonText,
  secondaryButtonHref,
  className = '',
} = Astro.props
---

<section
  id={sectionId}
  class={`relative bg-black/60 tablet:rounded-bl-[96px] tablet:rounded-br-[96px] rounded-bl-[36px] rounded-br-[36px]  desktop:mb-22 tablet:mb-14 mb-28 ${className}`}
  aria-label="Hero section"
>
  <!-- Background Image -->
  <div
    class="tablet:rounded-bl-[96px] tablet:rounded-br-[96px] absolute inset-0 z-0 overflow-clip rounded-br-[36px] rounded-bl-[36px]"
  >
    <Image
      src={heroImage.src}
      alt={heroImage.alt}
      class="h-full w-full object-cover object-center"
      loading="eager"
    />
    <div class="absolute inset-0 bg-black/60"></div>
  </div>

  <!-- Content -->
  <div class="relative z-10 container mx-auto px-4 py-32 pb-40">
    <div class="flex flex-col items-start justify-start gap-16">
      <!-- Hero Content -->
      <div class="flex w-full max-w-3xl items-center justify-center">
        <div class="flex w-full flex-col items-start justify-center">
          <!-- Hero Title -->

          <Heading tag="h1" size="h1" variant="white" formattedText={title} align="left" 
          />

          <!-- Hero Text and Actions -->
          <div class="flex w-full flex-col items-start justify-start gap-6">
            {
              subheading && (
                <p class="tablet:text-2xl/snug text-xl/snug font-medium text-white">{subheading}</p>
              )
            }

            <!-- Action Buttons -->
            {
              (primaryButtonText || secondaryButtonText) && (
                <div class="tablet:flex-row tablet:items-center flex w-full flex-col items-stretch justify-start gap-8">
                  {primaryButtonText && (
                    <Button
                      href={primaryButtonHref}
                      intent="secondary"
                      size="large"
                      borderRadius="corner"
                      ariaLabel={primaryButtonText}
                    >
                      {primaryButtonText}
                    </Button>
                  )}
                  {secondaryButtonText && (
                    <Button
                      href={secondaryButtonHref}
                      intent="primary"
                      size="large"
                      borderRadius="corner"
                      ariaLabel={secondaryButtonText}
                    >
                      {secondaryButtonText}
                    </Button>
                  )}
                </div>
              )
            }
          </div>
        </div>
      </div>
    </div>
  </div>
  <TrustStats
    sectionId="trust-stats"
    stats={[
      { value: '98%', label: 'Customer satisfaction rate' },
      { value: '250+', label: 'Completed projects' },
      { value: '15+', label: 'Years of trade experience' },
      { value: '24/7', label: 'Emergency support available' },
    ]}
  />

  <!-- Trust Stats Card -->
</section>

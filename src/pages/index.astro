---
import Layout from '@layouts/Layout.astro'
import CTA from '@components/CTA.astro'
import TrustStats from '@components/TrustStats.astro'
import ContactUs from '@components/ContactUs.astro'
import Hero from '@components/sections/Hero.astro'
import Services from '@components/sections/Services.astro'
import heroImage from '@assets/images/installer-holding-shelf-w2000.jpg'
import { getCollection } from 'astro:content'

// Get all services from content collection
const allServices = await getCollection('services')
const services = allServices.filter((service) => service.data.featured)
---

<Layout title="Home">
  <Hero
    heroImage={{ src: heroImage, alt: 'Hero background image' }}
    title="@@Reliable Help@@ for Every Task"
    subheading="We are a team of experienced handymen who are dedicated to providing the best possible service to our clients."
    primaryButtonText="Get a Free Quote"
    primaryButtonHref="#contact"
    secondaryButtonText="Learn More"
    secondaryButtonHref="#about"
    className="h-screen"
  />
  <TrustStats
    sectionId="trust-stats"
    stats={[
      { value: '98%', label: 'Customer satisfaction rate' },
      { value: '250+', label: 'Completed projects' },
      { value: '15+', label: 'Years of trade experience' },
      { value: '24/7', label: 'Emergency support available' },
    ]}
  />

  <Services sectionId="services" title="Our Services" services={services} />

  <CTA
    sectionId="Call to action"
    title="Ready to Fix It Today?"
    description="Don't wait for small problems to become big ones. Fill out our form now and let us make your home hassle-free."
    primaryButtonText="Get Your Free Quote"
    primaryButtonHref="#contact"
    backgroundClass="bg-gradient-to-br from-brand to-primary-dark"
  />
  <ContactUs sectionId="contact-us" title="Let's Talk About Your Needs" />
</Layout>

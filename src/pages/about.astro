---
import Layout from '@layouts/Layout.astro'
import heroImage from '@assets/images/installer-holding-screwdriver.png'
import { getCollection } from 'astro:content'
import Hero from '@components/sections/Hero.astro'
import SectionRegular from '@components/sections/SectionRegular.astro'
import AboutImg from '@assets/images/installer-in-overalls.jpg'
import SectionWithStats from '@components/sections/SectionWithStats.astro'
import Testimonial from '@components/Testimonial.astro'
import SectionWithTrustStats from '@components/sections/SectionWithTrustStats.astro'

// Get testimonials from content collection
const testimonials = await getCollection('testimonial')
---

<Layout title="Home">
  <Hero
    heroImage={{ src: heroImage, alt: 'Hero background image' }}
    title="@@The Man@@ Behind the Tools"
  />

  <SectionRegular
    content={{
      sectionId: 'About',
      badge: 'About',
      title: 'Daniel Harris',
      paragraphs: {
        p1: 'At the heart of our work is Daniel Harris, a skilled handyman with a passion for solving everyday problems.',
        p2: 'With years of experience across trades, he built a service dedicated to reliability, creativity, and care.',
        p3: 'We believe every home and office deserves professional attention delivered with warmth and efficiency.',
        p4: 'Our mission is simple: to take the stress out of repairs, improvements, and installations.',
      },
      image: {
        src: AboutImg,
        alt: 'managed it services transportation logistics',
        size: 'square',
      },
    }}
  />

  <SectionWithTrustStats
    content={{
      sectionId: 'why-trust-us',
      badge: 'Offer',
      title: 'Why Homeowners Trust Us',
      paragraphs: {
        p1: 'Choosing the right handyman service makes all the difference. We understand that homeowners value reliability, efficiency, and clear communication.',
        p2: "Our team's reputation is built on trust, experience, and happy customers who return again and again. With transparent pricing, punctual service, and a friendly approach, we turn everyday fixes into stress-free solutions.",
      },
      buttons: {
        primary: {
          text: 'Get in Touch',
          href: '/contact',
        },
      },
      trustStats: [
        { value: '98%', label: 'Customer satisfaction rate' },
        { value: '250+', label: 'Completed projects' },
        { value: '15+', label: 'Years of trade experience' },
        { value: '24/7', label: 'Emergency support available' },
      ],
    }}
  />

  <SectionWithStats
    content={{
      sectionId: 'Offer',
      badge: 'About',
      title: 'Daniel Harris',
      paragraphs: {
        p1: 'At the heart of our work is Daniel Harris, a skilled handyman with a passion for solving everyday problems.',
        p2: 'With years of experience across trades, he built a service dedicated to reliability, creativity, and care.',
        p3: 'We believe every home and office deserves professional attention delivered with warmth and efficiency.',
        p4: 'Our mission is simple: to take the stress out of repairs, improvements, and installations.',
      },
      buttons: {
        primary: {
          text: 'Get in Touch',
          href: '#contact',
        },
      },
      image: {
        src: AboutImg,
        alt: 'managed it services transportation logistics',
        size: 'square',
      },
    }}
  />

  <Testimonial
    badgeText="Testimonials"
    ,
    title="What Our Clients Say"
    ,
    sectionId="testimonials"
    ,
    testimonials={testimonials.map((testimonial) => ({
      testimonial: testimonial.data.testimonial,
      name: testimonial.data.name,
      position: testimonial.data.position,
      company: testimonial.data.company,
      avatar: testimonial.data.avatar,
    }))}
  />
</Layout>
